<div *ngIf="isLoading" class="spinner">
  <p-progressSpinner ariaLabel="Loading auctions..."></p-progressSpinner>

</div>

<p-toast></p-toast>


<div class="auction-list">
  <div *ngFor="let auction of auctions" class="auction-card">
    <div class="auction-image-container">
      <a [routerLink]="['/auction', auction.id]" class="auction-link">

        <img [src]="auction.imageUrl" alt="Auction Image" class="auction-image"/>
      </a>

      <!-- Popular Badge (Stays Over Image) -->
      <span class="auction-badge popular">POPULAR</span>
    </div>

    <div class="auction-details">
      <h3 class="auction-title">{{ auction.name }}</h3>
      <!--        <p class="auction-subtitle">Filler temporary text to be used for Auction subtitles.</p>-->

      <p class="auction-price">Current Bid: <span class="price-number">
          HUF {{ auction.price }}
        </span></p>

      <!-- Action Bar (Right of Countdown) -->
      <div class="auction-footer">
        <p *ngIf="auction.countdown" class="auction-timer">
          {{ auction.countdown }}
        </p>

        <button (click)="toggleFavourite(auction)" class="save-icon">
          <i [ngClass]="auction.isFavourite ? 'pi pi-heart-fill text-red-500' : 'pi pi-heart'"></i>
        </button>
      </div>
    </div>
  </div>
</div>

